/*! showcase 2018-11-26 */

Handlebars.logger.level=0;var App=(App={models:{},collections:{},views:{}})||{},TemplateManager=function(){var o,t,n;function e(e){this.options=null!=e?e:{},_.defaults(this.options,t),this.options.cache&&(o=this.options.cache)}return t={path:"/src/templates",ext:".hbs"},o={},e.prototype.load=function(e,t){return _.has(o,e)?t(o[e]):(e=n.apply(this,[e,t]),t?e.done(function(e){if(t)return t(e)}):e)},n=function(t,e){var n,i;return n=new $.Deferred,i=""+this.options.path+t+this.options.ext,$.ajax({url:i,type:"GET",dataType:"text",cache:!0,success:function(e){return o[t]=Handlebars.compile(e),o[t].tplString=e,n.resolve(o[t])}}),n},e}();App.templateManager=new TemplateManager,(App=App||{}).models.Product=Backbone.Model.extend({url:"https://opt-showcase-api.optcentral.com/products/:id",defaults:{id:null,title:"",sku:null,status:"Active",pricing:null,pricing:null,images:[],attributes:{}}}),(App=App||{}).collections.Products=Backbone.Collection.extend({url:"https://opt-showcase-api.optcentral.com/products",model:App.models.Product,parse:function(e){return e.data}}),(App=App||{}).views.MainView=Backbone.View.extend({el:"#main",initialize:function(){_.bindAll(this,"render"),this.collection=new App.collections.Products,this.collection.fetch(),this.listenTo(this.collection,"sync",this.render)},render:function(){if(!this.collection.length)return this.$el.append('<div class="alert alert-info">Product(s) not found.</div>'),this;var n=this.collection.toJSON(),i=this;return $.get("/src/templates/products.hbs",function(e){var t=Handlebars.compile(e)({products:n});i.$el.append(t)}),this}}),(App=App||{}).views.RootView=Backbone.View.extend({el:"#root",events:{"submit form":"onSubmit"},initialize:function(){_.bindAll(this,"render"),this.render()},render:function(){var n=this;return $.get("/src/templates/root.hbs",function(e){var t=Handlebars.compile(e);n.$el.append(t({title:"My App name"})),n.renderMainView()}),this},onSubmit:function(e){e.preventDefault();var t=this.$el.find('[name="username"]').val(),n=this.$el.find('[name="password"]').val();$.post("/src/index.php",{username:t,password:n},function(e,t,n){console.log("textStatus: textStatus")})},renderSidebarView:function(){},renderMainView:function(){new App.views.MainView}}),(App=App||{}).views.SidebarView=Backbone.View.extend({el:"#sidebar",className:"aside",events:{},initialize:function(){_.bindAll(this,"render"),console.log("App.SidebarView constructor called",this),this.render()},render:function(){var t=this;return App.templateManager.load("/sidebar",function(e){t.el.innerHTML=e({title:"My SidebarView"})}),this}}),jQuery,$(document).ready(function(){new App.views.RootView});